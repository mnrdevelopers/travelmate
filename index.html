<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelMate - Plan Your Trips Together</title>
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#4361ee" />
    <link rel="apple-touch-icon" href="icon.png" />
   <link rel="icon" href="icon.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash-container">
        <div class="splash-content">
            <div class="splash-logo">
                <i class="fas fa-map-marked-alt text-white"></i>
            </div>
            <h1>TravelMate</h1>
            <p>Plan your trips together</p>
            
            <!-- Features Preview -->
            <div class="splash-features mt-3">
                <div class="feature-item text-light small">
                    <i class="fas fa-users me-2"></i>Group Travel
                </div>
                <div class="feature-item text-light small mt-1">
                    <i class="fas fa-rupee-sign me-2"></i>Expense Tracking
                </div>
                <div class="feature-item text-light small mt-1">
                    <i class="fas fa-route me-2"></i>Route Planning
                </div>
            </div>
            
            <div class="mt-4">
                <lottie-player 
                    src="https://assets1.lottiefiles.com/packages/lf20_sk5h1kfn.json" 
                    background="transparent" 
                    speed="1" 
                    style="width: 200px; height: 200px; margin: 0 auto;" 
                    loop 
                    autoplay>
                </lottie-player>
            </div>
            
            <!-- Action Buttons -->
            <div class="mt-4">
                <button class="btn btn-light btn-lg" onclick="navigateTo('dashboard.html')">
                    Explore Features <i class="fas fa-arrow-right ms-2"></i>
                </button>
                <div class="mt-2">
                    <small>
                        <a href="dashboard.html" class="text-light">Skip intro</a>
                    </small>
                </div>
            </div>
            
            <!-- Loading Progress -->
            <div class="splash-progress mt-3">
                <div class="progress" style="width: 100px; height: 4px; margin: 0 auto;">
                    <div class="progress-bar bg-light" role="progressbar" style="width: 0%" id="splash-progress-bar"></div>
                </div>
                <small class="text-light mt-1 d-block">Loading amazing features...</small>
            </div>
        </div>
    </div>

    <script src="utils.js"></script>
    
    <script>
        // Smooth progress bar animation
        const progressBar = document.getElementById('splash-progress-bar');
        let progress = 0;
        const progressInterval = setInterval(() => {
            progress += 3.33; // 100% in 3 seconds
            progressBar.style.width = `${Math.min(progress, 100)}%`;
            
            if (progress >= 100) {
                clearInterval(progressInterval);
            }
        }, 100);

        // Auto redirect to dashboard after 3 seconds
        setTimeout(() => {
            navigateTo('dashboard.html');
        }, 3000);
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js')
                .then(function(registration) {
                    console.log('ServiceWorker registration successful:', registration);
                })
                .catch(function(error) {
                    console.log('ServiceWorker registration failed:', error);
                });
            });
        }
    </script>
</body>
</html>
